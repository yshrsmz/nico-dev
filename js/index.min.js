/*! nico-dev 2014-04-26 */
var google = google || {};

google.bookmarkbubble = google.bookmarkbubble || {}, google.bind = function(a, b) {
    return function() {
        return a.apply(b, arguments);
    };
}, google.abstractMethod = function() {
    throw Error("Unimplemented abstract method.");
}, google.bookmarkbubble.Bubble = function() {
    this.boundScrollHandler_ = google.bind(this.setPosition, this), this.element_ = null, 
    this.hasBeenDestroyed_ = !1;
}, google.bookmarkbubble.Bubble.prototype.showIfAllowed = function() {
    return this.isAllowedToShow_() ? (this.show_(), !0) : !1;
}, google.bookmarkbubble.Bubble.prototype.showIfAllowedWhenLoaded = function(a) {
    if (!this.isAllowedToShow_()) return !1;
    var b = this, c = b.loadImg_ = document.createElement("img");
    return c.src = b.getIconUrl_(), c.onload = function() {
        c.complete && (delete b.loadImg_, c.onload = null, b.show_(), a && a());
    }, c.onload(), !0;
}, google.bookmarkbubble.Bubble.prototype.setHashParameter = google.abstractMethod, 
google.bookmarkbubble.Bubble.prototype.hasHashParameter = google.abstractMethod, 
google.bookmarkbubble.Bubble.prototype.NUMBER_OF_TIMES_TO_DISMISS = 2, google.bookmarkbubble.Bubble.prototype.TIME_UNTIL_AUTO_DESTRUCT = 3e4, 
google.bookmarkbubble.Bubble.prototype.LOCAL_STORAGE_PREFIX = "BOOKMARK_", google.bookmarkbubble.Bubble.prototype.DISMISSED_ = "DISMISSED_COUNT", 
google.bookmarkbubble.Bubble.prototype.IMAGE_ARROW_DATA_URL_ = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAATCAMAAABSrFY3AAABKVBMVEUAAAD///8AAAAAAAAAAAAAAAAAAADf398AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD09PQAAAAAAAAAAAC9vb0AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD19fUAAAAAAAAAAAAAAADq6uoAAAAAAAAAAAC8vLzU1NTT09MAAADg4OAAAADs7OwAAAAAAAAAAAD///+cueenwerA0vC1y+3a5fb5+/3t8vr4+v3w9PuwyOy3zO3h6vfh6vjq8Pqkv+mat+fE1fHB0/Cduuifu+iuxuuivemrxOvC1PDz9vzJ2fKpwuqmwOrb5vapw+q/0vDf6ffK2vLN3PPprJISAAAAQHRSTlMAAAEGExES7FM+JhUoQSxIRwMbNfkJUgXXBE4kDQIMHSA0Tw4xIToeTSc4Chz4OyIjPfI3QD/X5OZR6zzwLSUPrm1y3gAAAQZJREFUeF5lzsVyw0AURNE3IMsgmZmZgszQZoeZOf//EYlG5Yrhbs+im4Dj7slM5wBJ4OJ+undAUr68gK/Hyb6Bcp5yBR/w8jreNeAr5Eg2XE7g6e2/0z6cGw1JQhpmHP3u5aiPPnTTkIK48Hj9Op7bD3btAXTfgUdwYjwSDCVXMbizO0O4uDY/x4kYC5SWFnfC6N1a9RCO7i2XEmQJj2mHK1Hgp9Vq3QBRl9shuBLGhcNtHexcdQCnDUoUGetxDD+H2DQNG2xh6uAWgG2/17o1EmLqYH0Xej0UjHAaFxZIV6rJ/WK1kg7QZH8HU02zmdJinKZJaDV3TVMjM5Q9yiqYpUwiMwa/1apDXTNESjsAAAAASUVORK5CYII=", 
google.bookmarkbubble.Bubble.prototype.IMAGE_CLOSE_DATA_URL_ = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAALVBMVEXM3fm+1Pfb5/rF2fjw9f23z/aavPOhwfTp8PyTt/L3+v7T4vqMs/K7zP////+qRWzhAAAAXElEQVQIW2O4CwUM996BwVskxtOqd++2rwMyPI+ve31GD8h4Madqz2mwms5jZ/aBGS/mHIDoen3m+DowY8/hOVUgxusz+zqPg7SvPA1UxQfSvu/du0YUK2AMmDMA5H1qhVX33T8AAAAASUVORK5CYII=", 
google.bookmarkbubble.Bubble.prototype.REL_ICON_ = "apple-touch-icon-precomposed", 
google.bookmarkbubble.Bubble.prototype.MOBILE_SAFARI_USERAGENT_REGEX_ = /iPhone|iPod|iPad/, 
google.bookmarkbubble.Bubble.prototype.IPAD_USERAGENT_REGEX_ = /iPad/, google.bookmarkbubble.Bubble.prototype.IOS_VERSION_USERAGENT_REGEX_ = /OS (\d)_(\d)(?:_(\d))?/, 
google.bookmarkbubble.Bubble.prototype.isAllowedToShow_ = function() {
    return this.isMobileSafari_() && !this.hasBeenDismissedTooManyTimes_() && !this.isFullscreen_() && !this.hasHashParameter();
}, google.bookmarkbubble.Bubble.prototype.show_ = function() {
    this.element_ = this.build_(), document.body.appendChild(this.element_), this.element_.style.WebkitTransform = "translate3d(0," + this.getHiddenYPosition_() + "px,0)", 
    this.setHashParameter(), window.setTimeout(this.boundScrollHandler_, 1), window.addEventListener("scroll", this.boundScrollHandler_, !1), 
    window.setTimeout(google.bind(this.autoDestruct_, this), this.TIME_UNTIL_AUTO_DESTRUCT);
}, google.bookmarkbubble.Bubble.prototype.destroy = function() {
    this.hasBeenDestroyed_ || (window.removeEventListener("scroll", this.boundScrollHandler_, !1), 
    this.element_ && this.element_.parentNode == document.body && (document.body.removeChild(this.element_), 
    this.element_ = null), this.hasBeenDestroyed_ = !0);
}, google.bookmarkbubble.Bubble.prototype.rememberDismissal_ = function() {
    if (window.localStorage) try {
        var a = this.LOCAL_STORAGE_PREFIX + this.DISMISSED_, b = Number(window.localStorage[a]) || 0;
        window.localStorage[a] = String(b + 1);
    } catch (c) {}
}, google.bookmarkbubble.Bubble.prototype.hasBeenDismissedTooManyTimes_ = function() {
    if (!window.localStorage) return !0;
    try {
        var a = this.LOCAL_STORAGE_PREFIX + this.DISMISSED_, b = Number(window.localStorage[a]) || 0;
        return b >= this.NUMBER_OF_TIMES_TO_DISMISS;
    } catch (c) {
        return !0;
    }
}, google.bookmarkbubble.Bubble.prototype.isFullscreen_ = function() {
    return !!window.navigator.standalone;
}, google.bookmarkbubble.Bubble.prototype.isMobileSafari_ = function() {
    return this.MOBILE_SAFARI_USERAGENT_REGEX_.test(window.navigator.userAgent);
}, google.bookmarkbubble.Bubble.prototype.isIpad_ = function() {
    return this.IPAD_USERAGENT_REGEX_.test(window.navigator.userAgent);
}, google.bookmarkbubble.Bubble.prototype.getVersion_ = function(a, b, c, d) {
    return a << 21 | b << 14 | c << 7 | d;
}, google.bookmarkbubble.Bubble.prototype.getIosVersion_ = function() {
    var a = this.IOS_VERSION_USERAGENT_REGEX_.exec(window.navigator.userAgent) || [];
    return a.shift(), this.getVersion_.apply(this, a);
}, google.bookmarkbubble.Bubble.prototype.setPosition = function() {
    this.element_.style.WebkitTransition = "-webkit-transform 0.7s ease-out", this.element_.style.WebkitTransform = "translate3d(0," + this.getVisibleYPosition_() + "px,0)";
}, google.bookmarkbubble.Bubble.prototype.closeClickHandler_ = function() {
    this.destroy(), this.rememberDismissal_();
}, google.bookmarkbubble.Bubble.prototype.autoDestruct_ = function() {
    this.hasBeenDestroyed_ || (this.element_.style.WebkitTransition = "-webkit-transform 0.7s ease-in", 
    this.element_.style.WebkitTransform = "translate3d(0," + this.getHiddenYPosition_() + "px,0)", 
    window.setTimeout(google.bind(this.destroy, this), 700));
}, google.bookmarkbubble.Bubble.prototype.getVisibleYPosition_ = function() {
    return this.isIpad_() ? window.pageYOffset + 17 : window.pageYOffset - this.element_.offsetHeight + window.innerHeight - 17;
}, google.bookmarkbubble.Bubble.prototype.getHiddenYPosition_ = function() {
    return this.isIpad_() ? window.pageYOffset - this.element_.offsetHeight : window.pageYOffset + window.innerHeight;
}, google.bookmarkbubble.Bubble.prototype.iconUrl_, google.bookmarkbubble.Bubble.prototype.getIconUrl_ = function() {
    if (!this.iconUrl_) {
        var a = this.getLink(this.REL_ICON_);
        a && (this.iconUrl_ = a.href) || (this.iconUrl_ = "data:image/png;base64,");
    }
    return this.iconUrl_;
}, google.bookmarkbubble.Bubble.prototype.getLink = function(a) {
    a = a.toLowerCase();
    for (var b = document.getElementsByTagName("link"), c = 0; c < b.length; ++c) {
        var d = b[c];
        if (d.getAttribute("rel").toLowerCase() == a) return d;
    }
    return null;
}, google.bookmarkbubble.Bubble.prototype.build_ = function() {
    var a = document.getElementById("jsBookmarkBubble");
    return this.getIosVersion_() >= this.getVersion_(4, 2) ? document.getElementById("jsBookmarkBubble1").style.display = "block" : document.getElementById("jsBookmarkBubble2").style.display = "block", 
    document.getElementById("jsBookmarkBubbleClose").onclick = google.bind(this.closeClickHandler_, this), 
    a.style.display = "block", a;
}, function() {
    function saveCookie(a) {
        cName = "count=", cDays = 120, setPre = new Date(), setPre.setTime(setPre.getTime() + 1e3 * cDays * 24 * 3600), 
        prd = setPre.toGMTString(), document.cookie = cName + a + ";expires=" + prd;
    }
    function initBubble() {
        window.addEventListener("load", function() {
            window.setTimeout(function() {
                var a = new google.bookmarkbubble.Bubble();
                a.hasHashParameter = function() {}, a.setHashParameter = function() {}, a.getViewportHeight = function() {
                    return window.console.log("Example of how to override getViewportHeight."), window.innerHeight;
                }, a.getViewportScrollY = function() {
                    return window.console.log("Example of how to override getViewportScrollY."), window.pageYOffset;
                }, a.registerScrollHandler = function(a) {
                    window.console.log("Example of how to override registerScrollHandler."), window.addEventListener("scroll", a, !1);
                }, a.deregisterScrollHandler = function(a) {
                    window.console.log("Example of how to override deregisterScrollHandler."), window.removeEventListener("scroll", a, !1);
                }, a.showIfAllowed();
            }, 1e3);
        }, !1);
    }
    var cName = "count=", cCookie = document.cookie + ";", str = cCookie.indexOf(cName);
    -1 != str ? (end = cCookie.indexOf(";", str), count = eval(unescape(cCookie.substring(str + cName.length, end))), 
    saveCookie(count + 1), count > 3 || initBubble()) : (initBubble(), saveCookie(1));
}();

var Nico_MiddleBanner = function() {
    var a = {
        getMiddleBannerZoneId: function() {
            return parseInt($("#jsMiddleBannerZoneId").val(), 10);
        }
    }, b = function() {
        var c = !1, d = 0, e = [];
        return {
            initialize: function() {
                var f = 0, g = e.length;
                for (d = a.getMiddleBannerZoneId(), c = !0; g > f; f++) b.loadMiddleBanner(e[f]);
                e.length = 0;
            },
            loadMiddleBanner: function(a) {
                return c ? void (d && new adsSimple.Advertisement({
                    zone: d
                }).set(a)) : void e.push(a);
            }
        };
    }();
    return b;
}();

$(function() {
    Nico_MiddleBanner.initialize();
}), $(function() {
    var a;
    a = function(a) {
        this._init(a);
    }, a.prototype = {
        _selectedPage: void 0,
        _tabs: [],
        _pages: [],
        _setUp: {
            tabsSelector: "",
            pagesSelector: ""
        },
        _init: function(a) {
            var b, c = document, d = this;
            d._setUp = a, d._tabs = c.querySelectorAll(d._setUp.tabsSelector), d._pages = c.querySelectorAll(d._setUp.pagesSelector), 
            b = d._pages;
            for (var e = 0, f = b.length; f > e; e++) $(b[e]).hasClass("selected") && (d.selectedPage = b[e]);
            $(document).on("click", d._setUp.tabsSelector, function(a) {
                a.preventDefault(), d.onTabClick(this);
            });
        },
        onTabClick: function(a) {
            console.log("test");
            for (var b, c = this, d = c._tabs, e = c._pages, f = 0, g = d.length; g > f; f++) d[f].innerHTML === a.innerHTML ? ($(d[f]).addClass("selected"), 
            b = d[f].getAttribute("data-show-id")) : $(d[f]).removeClass("selected");
            for (var f = 0, g = e.length; g > f; f++) {
                var h = e[f];
                h.id === b ? $(h).addClass("selected") : $(h).removeClass("selected");
            }
        }
    }, new a({
        tabsSelector: ".jscTopTabs .contentTabsList li",
        pagesSelector: ".jscTopTabs .tabContents"
    }), new a({
        tabsSelector: ".jscMiddleTabs .contentTabsList li",
        pagesSelector: ".jscMiddleTabs .tabContents"
    }), new a({
        tabsSelector: ".jscBottomTabs .contentTabsList li",
        pagesSelector: ".jscBottomTabs .tabContents"
    }), Nico_CategoryAllianceController.setAdsBaseUrl("http://ads.nicovideo.jp/"), Nico_CategoryAllianceController.setCategoryAllianceArea("#jsCategoryAlliance"), 
    Nico_CategoryAllianceController.fetchAdsList([ 271, 271, 271, 271, 271, 271 ]), 
    Nico_CategoryAllianceController.fetchTopAd(466);
});